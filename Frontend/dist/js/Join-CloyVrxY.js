import{j as e}from"./ui-vendor-D_YnDhxq.js";import{a}from"./react-vendor-B1YRfcvv.js";import{u as s}from"./index-BIodPqjN.js";import{G as r,d as l,R as t,ai as n,aH as i,aa as o,aI as c,a1 as d,a3 as m,aJ as x,b as g,K as u,M as b}from"./index-BpOdPcLd.js";import"./redux-vendor-Cc4mDNFq.js";import"./utils-vendor-B4hhIH4d.js";const f="pragma:join:lab:draft:v1",h=["Blood Tests","Hormones","Thyroid","Diabetes","Cardiac","Liver Function","Kidney Function","Urine Analysis","Microbiology","Pathology"],p={ownerName:"",ownerEmail:"",ownerPhone:"",ownerCNIC:"",ownerAddress:"",labName:"",labAddress:"",labPhone:"",cityProvince:"",labRegistrationNumber:"",labSpecialties:[],hasInternet:null,hasBookingSoftware:null,bookingSoftwareName:"",staffCount:"",offersHomeCollection:null,labLicense:null},N=(e,a,s)=>{switch(e){case"ownerName":case"labName":return!a||a.trim().length<2?"At least 2 characters required.":"";case"ownerEmail":return a&&/^\S+@\S+\.\S+$/.test(a)?"":"Enter a valid email.";case"ownerPhone":case"labPhone":return!a||a.trim().length<7?"Enter a valid phone number.":"";case"ownerCNIC":return!a||a.trim().length<5?"Invalid national ID.":"";case"ownerAddress":case"labAddress":return!a||a.trim().length<10?"Please provide a more detailed address.":"";case"cityProvince":return!a||a.trim().length<2?"City & province required.":"";case"staffCount":return!a||Number(a)<1?"Enter staff count (>=1).":"";case"labSpecialties":return a&&0!==a.length?"":"Select at least one specialty.";case"labLicense":return a?"":"Lab license is required.";case"bookingSoftwareName":return s.hasBookingSoftware&&(!a||a.trim().length<2)?"Provide software name.":"";case"hasInternet":case"hasBookingSoftware":case"offersHomeCollection":return null===s[e]?"Please choose an option.":"";default:return""}};function j(){const[j,y]=a.useState(()=>{try{const e=localStorage.getItem(f),a=e?JSON.parse(e):null;return a?{...p,...a,labLicense:null}:p}catch{return p}}),[w,v]=a.useState({}),[C,S]=a.useState(!1),[k,P]=a.useState(!1),[I,B]=a.useState(null),[A,L]=a.useState(""),E=a.useRef(null),D=a.useRef(!0),q=a.useMemo(()=>{const e=A.trim().toLowerCase();return h.filter(a=>!j.labSpecialties.includes(a)&&(!e||a.toLowerCase().includes(e)))},[A,j.labSpecialties]),H=a.useMemo(()=>{const e=["ownerName","ownerEmail","ownerPhone","ownerCNIC","ownerAddress","labName","labAddress","labPhone","cityProvince","staffCount"];let a=0;e.forEach(e=>{const s=j[e];null!=s&&String(s).trim().length>0&&a++}),j.labSpecialties.length>0&&a++,j.labLicense&&a++;const s=e.length+2;return Math.round(a/s*100)},[j]);a.useEffect(()=>(D.current=!0,()=>{D.current=!1,E.current&&clearTimeout(E.current)}),[]),a.useEffect(()=>(E.current&&clearTimeout(E.current),E.current=setTimeout(()=>{try{const e={...j,labLicense:null};localStorage.setItem(f,JSON.stringify(e))}catch(e){}},700),()=>clearTimeout(E.current)),[j]);const $=a.useCallback((e,a)=>{y(s=>({...s,[e]:a})),v(s=>({...s,[e]:N(e,a,{...j,[e]:a})}))},[j]),F=a.useCallback(e=>{const{name:a,value:s,type:r,checked:l,files:t}=e.target;if("checkbox"===r)if("labSpecialties"===a){const e=l?[...j.labSpecialties,s]:j.labSpecialties.filter(e=>e!==s);y(a=>({...a,labSpecialties:e})),v(a=>({...a,labSpecialties:N("labSpecialties",e,j)}))}else $(a,l);else if("file"===r){const e=t&&t[0];R(e)}else $(a,"radio"===r?"true"===s:s)},[j,$]);a.useCallback(e=>{y(a=>{const s=a.labSpecialties.includes(e)?a.labSpecialties.filter(a=>a!==e):[...a.labSpecialties,e];return v(e=>({...e,labSpecialties:N("labSpecialties",s,{...a,labSpecialties:s})})),{...a,labSpecialties:s}})},[]);const O=a.useCallback(e=>{e&&y(a=>{if(a.labSpecialties.includes(e))return a;const s=[...a.labSpecialties,e];return L(""),v(e=>({...e,labSpecialties:N("labSpecialties",s,{...a,labSpecialties:s})})),{...a,labSpecialties:s}})},[]),M=a.useCallback(e=>{y(a=>{const s=a.labSpecialties.filter(a=>a!==e);return v(e=>({...e,labSpecialties:N("labSpecialties",s,{...a,labSpecialties:s})})),{...a,labSpecialties:s}})},[]),R=a.useCallback(e=>{if(!e)return;e.size>8388608?s.error("File too large (max 8MB)."):["application/pdf","image/jpeg","image/png","image/jpg"].includes(e.type)?(y(a=>({...a,labLicense:e})),B({name:e.name,size:e.size,type:e.type}),v(e=>({...e,labLicense:""}))):s.error("Unsupported file type. Use PDF/JPG/PNG.")},[]),T=a.useCallback(e=>{const a=e.target.files&&e.target.files[0];R(a)},[R]),J=a.useCallback(e=>{var a,s;e.preventDefault(),P(!1);const r=null==(s=null==(a=e.dataTransfer)?void 0:a.files)?void 0:s[0];R(r)},[R]),G=a.useCallback(()=>{y(e=>({...e,labLicense:null})),B(null),v(e=>({...e,labLicense:N("labLicense",null,j)}))},[j]),Y=a.useCallback(()=>{const e={};return Object.keys(p).forEach(a=>{const s=N(a,j[a],j);s&&(e[a]=s)}),v(e),e},[j]),U=a.useCallback(()=>{const e=new FormData;return Object.entries(j).forEach(([a,s])=>{"labSpecialties"===a?e.append(a,JSON.stringify(s)):"labLicense"===a&&s instanceof File?e.append(a,s,s.name):null!=s&&e.append(a,String(s))}),e},[j]),z=a.useMemo(()=>{const e=["ownerName","ownerEmail","ownerPhone","ownerCNIC","ownerAddress","labName","labAddress","labPhone","cityProvince","staffCount"];for(const a of e)if(!j[a]||""===String(j[a]).trim())return!1;return 0!==j.labSpecialties.length&&(!!j.labLicense&&(null!==j.hasInternet&&null!==j.hasBookingSoftware&&null!==j.offersHomeCollection&&!(j.hasBookingSoftware&&(!j.bookingSoftwareName||j.bookingSoftwareName.trim().length<2))))},[j]),K=a.useCallback(async e=>{if(e.preventDefault(),C)return;const a=Y();if(Object.keys(a).length>0)s.error(Object.values(a)[0]);else{S(!0);try{const e=U(),a=await fetch("/api/labs/apply",{method:"POST",body:e}),r=await a.json().catch(()=>({}));if(a.ok){s.success("Application submitted — we'll be in touch.");try{localStorage.removeItem(f)}catch{}y(p),B(null),v({})}else s.error((null==r?void 0:r.message)||"Submission failed.")}catch(r){s.error("Network error — try again.")}finally{D.current&&S(!1)}}},[U,Y,C]);return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[e.jsxs("header",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-extrabold text-gray-900",children:"Partner with Pragma Health"}),e.jsx("p",{className:"mt-2 text-lg text-gray-600 max-w-2xl mx-auto",children:"Apply to join our network of accredited diagnostic labs. Fill the form; we'll review and contact you."})]}),e.jsxs("form",{onSubmit:K,onDragOver:e=>{e.preventDefault(),P(!0)},onDragLeave:()=>P(!1),onDrop:J,"aria-labelledby":"join-form-title",className:"bg-white rounded-3xl shadow-xl border border-gray-100 p-8",children:[e.jsxs("div",{className:"flex items-start justify-between gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{id:"join-form-title",className:"text-2xl font-bold text-gray-900",children:"Lab Application Form"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Required fields are marked with an asterisk (*). Your draft auto-saves locally."}),e.jsx("div",{className:"mt-4 w-56 bg-gray-100 rounded-full h-2 overflow-hidden","aria-hidden":"true",children:e.jsx("div",{className:"h-2 bg-gradient-to-r from-indigo-600 to-emerald-400 transition-all",style:{width:`${H}%`}})}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:["Profile completion: ",H,"%"]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-3",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(r,{className:"text-emerald-500"}),e.jsx("span",{children:I?"License uploaded":"License not uploaded"})]}),e.jsx("div",{className:"text-xs text-gray-500",children:"You can clear the draft at any time."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("fieldset",{className:"space-y-4",children:[e.jsx("legend",{className:"text-lg font-medium text-gray-800",children:"Lab Owner Information"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("label",{className:"flex flex-col",children:[e.jsxs("span",{className:"text-sm text-gray-700 inline-flex items-center gap-2",children:[e.jsx(l,{className:"text-gray-500"})," Full name *"]}),e.jsx("input",{name:"ownerName",value:j.ownerName,onChange:F,onBlur:e=>v(a=>({...a,ownerName:N("ownerName",e.target.value,j)})),className:`w-full p-3 rounded-lg border ${w.ownerName?"border-rose-500":"border-gray-200"} focus:outline-none focus:ring-2 focus:ring-indigo-300`,"aria-invalid":!!w.ownerName,"aria-describedby":w.ownerName?"err-ownerName":void 0,required:!0}),w.ownerName&&e.jsx("div",{id:"err-ownerName",className:"text-xs text-rose-600 mt-1",children:w.ownerName})]}),e.jsxs("label",{className:"flex flex-col",children:[e.jsxs("span",{className:"text-sm text-gray-700 inline-flex items-center gap-2",children:[e.jsx(t,{className:"text-gray-500"})," Email *"]}),e.jsx("input",{name:"ownerEmail",type:"email",value:j.ownerEmail,onChange:F,onBlur:e=>v(a=>({...a,ownerEmail:N("ownerEmail",e.target.value,j)})),className:`w-full p-3 rounded-lg border ${w.ownerEmail?"border-rose-500":"border-gray-200"} focus:outline-none focus:ring-2 focus:ring-indigo-300`,"aria-invalid":!!w.ownerEmail,required:!0}),w.ownerEmail&&e.jsx("div",{className:"text-xs text-rose-600 mt-1",children:w.ownerEmail})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("label",{className:"flex flex-col",children:[e.jsxs("span",{className:"text-sm text-gray-700 inline-flex items-center gap-2",children:[e.jsx(n,{className:"text-gray-500"})," Phone *"]}),e.jsx("input",{name:"ownerPhone",value:j.ownerPhone,onChange:F,onBlur:e=>v(a=>({...a,ownerPhone:N("ownerPhone",e.target.value,j)})),className:`w-full p-3 rounded-lg border ${w.ownerPhone?"border-rose-500":"border-gray-200"} focus:outline-none focus:ring-2 focus:ring-indigo-300`,required:!0}),w.ownerPhone&&e.jsx("div",{className:"text-xs text-rose-600 mt-1",children:w.ownerPhone})]}),e.jsxs("label",{className:"flex flex-col",children:[e.jsxs("span",{className:"text-sm text-gray-700 inline-flex items-center gap-2",children:[e.jsx(i,{className:"text-gray-500"})," CNIC / National ID *"]}),e.jsx("input",{name:"ownerCNIC",value:j.ownerCNIC,onChange:F,onBlur:e=>v(a=>({...a,ownerCNIC:N("ownerCNIC",e.target.value,j)})),className:`w-full p-3 rounded-lg border ${w.ownerCNIC?"border-rose-500":"border-gray-200"} focus:outline-none focus:ring-2 focus:ring-indigo-300`,required:!0}),w.ownerCNIC&&e.jsx("div",{className:"text-xs text-rose-600 mt-1",children:w.ownerCNIC})]})]}),e.jsxs("label",{className:"flex flex-col",children:[e.jsxs("span",{className:"text-sm text-gray-700 inline-flex items-center gap-2",children:[e.jsx(o,{className:"text-gray-500"})," Owner's address *"]}),e.jsx("textarea",{name:"ownerAddress",rows:3,value:j.ownerAddress,onChange:F,onBlur:e=>v(a=>({...a,ownerAddress:N("ownerAddress",e.target.value,j)})),className:`w-full p-3 rounded-lg border ${w.ownerAddress?"border-rose-500":"border-gray-200"} focus:outline-none focus:ring-2 focus:ring-indigo-300`,required:!0}),w.ownerAddress&&e.jsx("div",{className:"text-xs text-rose-600 mt-1",children:w.ownerAddress})]})]}),e.jsxs("fieldset",{className:"space-y-4",children:[e.jsx("legend",{className:"text-lg font-medium text-gray-800",children:"Lab Details"}),e.jsxs("label",{className:"flex flex-col",children:[e.jsxs("span",{className:"text-sm text-gray-700 inline-flex items-center gap-2",children:[e.jsx(c,{className:"text-gray-500"})," Lab name *"]}),e.jsx("input",{name:"labName",value:j.labName,onChange:F,onBlur:e=>v(a=>({...a,labName:N("labName",e.target.value,j)})),className:`w-full p-3 rounded-lg border ${w.labName?"border-rose-500":"border-gray-200"} focus:outline-none focus:ring-2 focus:ring-indigo-300`,required:!0}),w.labName&&e.jsx("div",{className:"text-xs text-rose-600 mt-1",children:w.labName})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("label",{className:"flex flex-col",children:[e.jsxs("span",{className:"text-sm text-gray-700 inline-flex items-center gap-2",children:[e.jsx(n,{className:"text-gray-500"})," Lab phone *"]}),e.jsx("input",{name:"labPhone",value:j.labPhone,onChange:F,onBlur:e=>v(a=>({...a,labPhone:N("labPhone",e.target.value,j)})),className:`w-full p-3 rounded-lg border ${w.labPhone?"border-rose-500":"border-gray-200"} focus:outline-none focus:ring-2 focus:ring-indigo-300`,required:!0}),w.labPhone&&e.jsx("div",{className:"text-xs text-rose-600 mt-1",children:w.labPhone})]}),e.jsxs("label",{className:"flex flex-col",children:[e.jsxs("span",{className:"text-sm text-gray-700 inline-flex items-center gap-2",children:[e.jsx(o,{className:"text-gray-500"})," City & province *"]}),e.jsx("input",{name:"cityProvince",value:j.cityProvince,onChange:F,onBlur:e=>v(a=>({...a,cityProvince:N("cityProvince",e.target.value,j)})),className:`w-full p-3 rounded-lg border ${w.cityProvince?"border-rose-500":"border-gray-200"} focus:outline-none focus:ring-2 focus:ring-indigo-300`,required:!0}),w.cityProvince&&e.jsx("div",{className:"text-xs text-rose-600 mt-1",children:w.cityProvince})]})]}),e.jsxs("label",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm text-gray-700 mb-1",children:"Lab address *"}),e.jsx("textarea",{name:"labAddress",rows:3,value:j.labAddress,onChange:F,onBlur:e=>v(a=>({...a,labAddress:N("labAddress",e.target.value,j)})),className:`w-full p-3 rounded-lg border ${w.labAddress?"border-rose-500":"border-gray-200"} focus:outline-none focus:ring-2 focus:ring-indigo-300`,required:!0}),w.labAddress&&e.jsx("div",{className:"text-xs text-rose-600 mt-1",children:w.labAddress})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 items-end",children:[e.jsxs("label",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"Registration number"}),e.jsx("input",{name:"labRegistrationNumber",value:j.labRegistrationNumber,onChange:F,className:"w-full p-3 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-indigo-300"})]}),e.jsxs("label",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"Staff count *"}),e.jsx("input",{name:"staffCount",type:"number",min:1,value:j.staffCount,onChange:F,onBlur:e=>v(a=>({...a,staffCount:N("staffCount",e.target.value,j)})),className:`w-full p-3 rounded-lg border ${w.staffCount?"border-rose-500":"border-gray-200"} focus:outline-none focus:ring-2 focus:ring-indigo-300`,required:!0}),w.staffCount&&e.jsx("div",{className:"text-xs text-rose-600 mt-1",children:w.staffCount})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("label",{className:"text-sm text-gray-700 inline-flex items-center gap-2",children:[e.jsx(d,{className:"text-gray-500"})," Lab specialties *"]}),e.jsxs("span",{className:"text-xs text-gray-500",children:[j.labSpecialties.length," selected"]})]}),e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsx("input",{placeholder:"Search or type to add...",value:A,onChange:e=>L(e.target.value),onKeyDown:e=>{if("Enter"===e.key){e.preventDefault();const a=A.trim();a&&O(a)}},className:"flex-1 p-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-indigo-300","aria-label":"Search specialties"}),e.jsx("button",{type:"button",onClick:()=>O(A.trim()),className:"px-3 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Add"})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:j.labSpecialties.map(a=>e.jsxs("span",{className:"inline-flex items-center gap-2 bg-gray-100 px-3 py-1 rounded-full text-sm",children:[a,e.jsx("button",{type:"button",onClick:()=>M(a),"aria-label":`Remove ${a}`,className:"p-1 rounded-full hover:bg-gray-200",children:e.jsx(m,{className:"w-3.5 h-3.5 text-rose-500"})})]},a))}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 max-h-36 overflow-auto",children:q.map(a=>e.jsx("button",{type:"button",onClick:()=>O(a),className:"text-left p-2 rounded-lg border border-gray-200 hover:bg-indigo-50 text-sm",children:a},a))}),w.labSpecialties&&e.jsx("div",{className:"text-xs text-rose-600 mt-2",children:w.labSpecialties})]})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"col-span-1 md:col-span-1",children:[e.jsx("label",{className:"text-sm text-gray-700 mb-2 block",children:"Internet access *"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("label",{className:"px-3 py-2 rounded-lg border "+(!0===j.hasInternet?"border-indigo-600 bg-indigo-50":"border-gray-200"),children:[e.jsx("input",{type:"radio",name:"hasInternet",value:"true",checked:!0===j.hasInternet,onChange:F,className:"mr-2"})," Yes"]}),e.jsxs("label",{className:"px-3 py-2 rounded-lg border "+(!1===j.hasInternet?"border-indigo-600 bg-indigo-50":"border-gray-200"),children:[e.jsx("input",{type:"radio",name:"hasInternet",value:"false",checked:!1===j.hasInternet,onChange:F,className:"mr-2"})," No"]})]}),w.hasInternet&&e.jsx("div",{className:"text-xs text-rose-600 mt-1",children:w.hasInternet})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-700 mb-2 block",children:"Booking software *"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("label",{className:"px-3 py-2 rounded-lg border "+(!0===j.hasBookingSoftware?"border-indigo-600 bg-indigo-50":"border-gray-200"),children:[e.jsx("input",{type:"radio",name:"hasBookingSoftware",value:"true",checked:!0===j.hasBookingSoftware,onChange:F,className:"mr-2"})," Yes"]}),e.jsxs("label",{className:"px-3 py-2 rounded-lg border "+(!1===j.hasBookingSoftware?"border-indigo-600 bg-indigo-50":"border-gray-200"),children:[e.jsx("input",{type:"radio",name:"hasBookingSoftware",value:"false",checked:!1===j.hasBookingSoftware,onChange:F,className:"mr-2"})," No"]})]}),w.hasBookingSoftware&&e.jsx("div",{className:"text-xs text-rose-600 mt-1",children:w.hasBookingSoftware}),j.hasBookingSoftware&&e.jsxs("div",{className:"mt-3",children:[e.jsx("input",{name:"bookingSoftwareName",value:j.bookingSoftwareName,onChange:F,onBlur:e=>v(a=>({...a,bookingSoftwareName:N("bookingSoftwareName",e.target.value,j)})),className:`w-full p-3 rounded-lg border ${w.bookingSoftwareName?"border-rose-500":"border-gray-200"} focus:outline-none focus:ring-2 focus:ring-indigo-300`,placeholder:"Which software?",required:!0}),w.bookingSoftwareName&&e.jsx("div",{className:"text-xs text-rose-600 mt-1",children:w.bookingSoftwareName})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-700 mb-2 block",children:"Home collection *"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("label",{className:"px-3 py-2 rounded-lg border "+(!0===j.offersHomeCollection?"border-indigo-600 bg-indigo-50":"border-gray-200"),children:[e.jsx("input",{type:"radio",name:"offersHomeCollection",value:"true",checked:!0===j.offersHomeCollection,onChange:F,className:"mr-2"})," Yes"]}),e.jsxs("label",{className:"px-3 py-2 rounded-lg border "+(!1===j.offersHomeCollection?"border-indigo-600 bg-indigo-50":"border-gray-200"),children:[e.jsx("input",{type:"radio",name:"offersHomeCollection",value:"false",checked:!1===j.offersHomeCollection,onChange:F,className:"mr-2"})," No"]})]}),w.offersHomeCollection&&e.jsx("div",{className:"text-xs text-rose-600 mt-1",children:w.offersHomeCollection})]})]}),e.jsxs("div",{className:"mt-6 p-4 rounded-lg border-2 "+(k?"border-indigo-500 bg-indigo-50/30":"border-dashed border-gray-200 bg-gray-50"),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(x,{className:"w-6 h-6 text-gray-700"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-800",children:"Upload lab license *"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Drop file here or click Browse. Max 8MB. PDF/JPG/PNG accepted."})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:I?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-sm text-gray-700",children:I.name}),e.jsx("button",{type:"button",onClick:G,className:"p-2 rounded-md bg-white border border-gray-200 hover:bg-gray-100",children:e.jsx(g,{className:"text-rose-500"})})]}):e.jsxs("label",{className:"inline-flex items-center gap-2 px-3 py-2 bg-indigo-600 text-white rounded-lg cursor-pointer hover:bg-indigo-700",children:["Browse",e.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:T,className:"sr-only"})]})})]}),w.labLicense&&e.jsx("div",{className:"text-xs text-rose-600 mt-2",children:w.labLicense})]}),e.jsxs("div",{className:"mt-6 flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("span",{className:"sr-only","aria-live":"polite","aria-atomic":"true",children:[H,"% complete"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r,{className:"text-emerald-500"}),e.jsxs("span",{children:[H,"% complete"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{type:"submit",disabled:!z||C,className:"inline-flex items-center gap-3 px-6 py-3 rounded-full text-white font-medium transition "+(C?"bg-indigo-400 cursor-wait":z?"bg-indigo-600 hover:bg-indigo-700":"bg-gray-300 cursor-not-allowed"),"aria-disabled":!z||C,children:[C?e.jsx(u,{className:"animate-spin"}):e.jsx(b,{}),e.jsx("span",{children:C?"Submitting...":"Submit Application"})]}),e.jsxs("button",{type:"button",onClick:()=>{try{localStorage.removeItem(f)}catch{}y(p),B(null),v({}),s.success("Draft cleared.")},className:"inline-flex items-center gap-2 px-4 py-2 rounded-full border border-gray-200 bg-white text-sm hover:bg-gray-50",children:["Clear Draft",e.jsx(g,{className:"w-4 h-4 text-rose-500"})]})]})]})]})]})})}export{j as default};

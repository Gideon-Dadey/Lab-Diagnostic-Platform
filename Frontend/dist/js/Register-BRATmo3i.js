import{j as e,c as s}from"./ui-vendor-D_YnDhxq.js";import{u as a,a as r,L as t}from"./react-vendor-B1YRfcvv.js";import{c as i,a as l,b as n,u as o}from"./forms-vendor-CyXfoBQa.js";import{o as d}from"./yup-ANMf5mc7.js";import{O as c,P as m,d as x,R as u,T as h,F as p,a as g,K as b,U as j,N as f}from"./index-BpOdPcLd.js";import"./redux-vendor-Cc4mDNFq.js";import"./utils-vendor-B4hhIH4d.js";const w=i().shape({firstName:l().required("First name is required").matches(/^[a-zA-Z\s'-]+$/,"First name must contain only letters"),lastName:l().required("Last name is required").matches(/^[a-zA-Z\s'-]+$/,"Last name must contain only letters"),email:l().email("Invalid email address").required("Email is required"),password:l().required("Password is required").min(8,"Password must be at least 8 characters").matches(/[A-Z]/,"Include at least one uppercase letter").matches(/[a-z]/,"Include at least one lowercase letter").matches(/[0-9]/,"Include at least one number").matches(/[@$!%*?&]/,"Include at least one special character"),confirmPassword:l().required("Please confirm your password").oneOf([n("password")],"Passwords do not match")}),y=({password:s})=>{const a=r.useMemo(()=>{if(!s)return 0;let e=0;return s.length>=8&&e++,/[A-Z]/.test(s)&&e++,/[0-9]/.test(s)&&e++,/[@$!%*?&]/.test(s)&&e++,e},[s]),t=a/4*100+"%",i=a<=1?"bg-rose-400":2===a?"bg-amber-400":3===a?"bg-emerald-400":"bg-emerald-600",l=["Too weak","Weak","Okay","Good","Strong"][a];return e.jsxs("div",{className:"mt-2","aria-hidden":!1,children:[e.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${i}`,style:{width:t}})}),e.jsx("p",{className:"text-xs mt-1 text-gray-500",children:l})]})},v=({id:s,name:a,label:r,icon:t,register:i,type:l="text",error:n,ariaDescribedBy:o,autoComplete:d,childrenRight:c})=>{const m=!!n;return e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:`flex items-center gap-3 rounded-lg px-3 py-2 border bg-white transition ${m?"border-rose-500":"border-gray-200"} focus-within:ring-2 focus-within:ring-indigo-300`,children:[e.jsx("span",{className:"text-gray-400",children:t}),e.jsx("input",{id:s||a,name:a,type:l,placeholder:" ",autoComplete:d,"aria-invalid":m,"aria-describedby":o,...i(a),className:"peer bg-transparent outline-none flex-1 text-sm text-gray-900 placeholder-transparent"}),c]}),e.jsx("label",{htmlFor:s||a,className:`pointer-events-none absolute left-10 -top-2 px-1 text-xs transition-all ${m?"text-rose-600":"text-gray-500"} peer-placeholder-shown:translate-y-2 peer-placeholder-shown:scale-100 peer-placeholder-shown:text-sm`,children:r}),m&&e.jsx("p",{id:o,className:"text-rose-600 text-xs mt-1",role:"alert",children:null==n?void 0:n.message})]})},N=()=>{const i=a(),[l,n]=r.useState(!1),[N,C]=r.useState(!1),[P,S]=r.useState(!1),{register:k,handleSubmit:q,setError:A,watch:$,formState:{errors:B,isDirty:D}}=o({resolver:d(w),mode:"onTouched"}),R=$(),F=R.password||"",T=r.useMemo(()=>{const e=["firstName","lastName","email","password","confirmPassword"],s=e.reduce((e,s)=>R[s]&&String(R[s]).trim()?e+1:e,0);return Math.round(s/e.length*100)},[R]);return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-gray-50 to-white py-12 px-4",children:e.jsxs("div",{className:"w-full max-w-6xl grid grid-cols-1 md:grid-cols-12 gap-6 items-stretch",children:[e.jsxs("div",{className:"hidden md:block md:col-span-6 relative rounded-3xl overflow-hidden shadow-lg",children:[e.jsx("img",{src:"/images/sign%20up-C18xwXZy.jpg",alt:"Lab hero",className:"absolute inset-0 w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-indigo-700/60 via-transparent to-emerald-600/30 mix-blend-multiply"}),e.jsxs("div",{className:"relative z-10 p-10 h-full flex flex-col justify-between text-white",children:[e.jsxs("div",{children:[e.jsx("div",{className:"inline-flex items-center gap-3 bg-white/10 px-3 py-1 rounded-full mb-6",children:e.jsx("span",{className:"text-xs font-semibold",children:"Pragma Health"})}),e.jsx("h1",{className:"text-3xl font-extrabold leading-tight",children:"Join Pragma Health"}),e.jsx("p",{className:"mt-3 text-sm max-w-lg",children:"Create your account to manage bookings, view reports, and collaborate with clinicians. Verified labs and secure access."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-white/10 rounded-lg border border-white/10",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"Trusted network"}),e.jsx("p",{className:"text-xs mt-1",children:"500+ labs"})]}),e.jsxs("div",{className:"p-4 bg-white/10 rounded-lg border border-white/10",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"Fast reporting"}),e.jsx("p",{className:"text-xs mt-1",children:"24â€“48 hour turnaround"})]})]})]})]}),e.jsx("div",{className:"col-span-1 md:col-span-6 flex items-center",children:e.jsxs("div",{className:"w-full bg-white rounded-3xl shadow-xl p-8 md:p-10",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-extrabold text-gray-900",children:"Create your account"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Already a member?"," ",e.jsx(t,{to:"/login",className:"text-indigo-600 font-medium hover:underline",children:"Sign in"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Completion"}),e.jsxs("p",{className:"text-xs font-medium text-gray-600",children:[T,"%"]})]}),e.jsx("div",{className:"mt-2 h-2 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-2 bg-gradient-to-r from-indigo-600 to-emerald-400 transition-all",style:{width:`${T}%`}})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("button",{type:"button",onClick:()=>s("Google sign-up placeholder"),className:"flex items-center justify-center gap-2 px-3 py-2 rounded-lg border border-gray-200 hover:shadow-sm transition text-sm","aria-label":"Sign up with Google",children:[e.jsx(c,{className:"text-red-500"})," Google"]}),e.jsxs("button",{type:"button",onClick:()=>s("Apple sign-up placeholder"),className:"flex items-center justify-center gap-2 px-3 py-2 rounded-lg border border-gray-200 hover:shadow-sm transition text-sm","aria-label":"Sign up with Apple",children:[e.jsx(m,{})," Apple"]})]}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":!0,children:e.jsx("div",{className:"w-full border-t border-gray-200"})}),e.jsx("div",{className:"relative flex justify-center text-xs",children:e.jsx("span",{className:"bg-white px-2 text-gray-500",children:"or continue with email"})})]}),e.jsxs("form",{onSubmit:q(async e=>{var a,r,t,l,n,o;S(!0);try{const t=await f("/api/auth/register",e);201===(null==t?void 0:t.status)||200===(null==t?void 0:t.status)?(s.success((null==(a=t.data)?void 0:a.message)||"Registered successfully!"),i("/check-email")):s.error((null==(r=null==t?void 0:t.data)?void 0:r.message)||"Registration returned unexpected status")}catch(d){const e=(null==(l=null==(t=null==d?void 0:d.response)?void 0:t.data)?void 0:l.message)||"Registration failed. Try again.";if(s.error(e),null==(o=null==(n=null==d?void 0:d.response)?void 0:n.data)?void 0:o.errors){const e=d.response.data.errors;for(const s in e)A(s,{message:e[s]})}}finally{S(!1)}}),noValidate:!0,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsx(v,{name:"firstName",label:"First name",icon:e.jsx(x,{}),register:k,error:B.firstName,ariaDescribedBy:"err-firstName",autoComplete:"given-name"}),e.jsx(v,{name:"lastName",label:"Last name",icon:e.jsx(x,{}),register:k,error:B.lastName,ariaDescribedBy:"err-lastName",autoComplete:"family-name"})]}),e.jsx(v,{name:"email",label:"Email address",icon:e.jsx(u,{}),register:k,error:B.email,ariaDescribedBy:"err-email",type:"email",autoComplete:"email"}),e.jsx(v,{name:"password",label:"Password",icon:e.jsx(h,{}),register:k,error:B.password,ariaDescribedBy:"err-password",type:l?"text":"password",childrenRight:e.jsx("button",{type:"button",onClick:()=>n(e=>!e),className:"text-gray-500","aria-label":l?"Hide password":"Show password",children:l?e.jsx(p,{}):e.jsx(g,{})}),autoComplete:"new-password"}),e.jsx(y,{password:F}),e.jsx(v,{name:"confirmPassword",label:"Confirm password",icon:e.jsx(h,{}),register:k,error:B.confirmPassword,ariaDescribedBy:"err-confirmPassword",type:N?"text":"password",childrenRight:e.jsx("button",{type:"button",onClick:()=>C(e=>!e),className:"text-gray-500","aria-label":N?"Hide confirm password":"Show confirm password",children:N?e.jsx(p,{}):e.jsx(g,{})}),autoComplete:"new-password"}),e.jsx("div",{className:"mt-2",children:e.jsxs("button",{type:"submit",disabled:P,className:"w-full inline-flex items-center justify-center gap-3 px-4 py-3 rounded-lg text-white font-semibold transition "+(P?"bg-indigo-400 cursor-wait":"bg-indigo-600 hover:bg-indigo-700"),"aria-live":"polite",children:[P?e.jsx(b,{className:"animate-spin"}):e.jsx(j,{}),e.jsx("span",{children:P?"Creating account...":"Create Account"})]})})]}),e.jsxs("p",{className:"mt-4 text-xs text-gray-500 text-center",children:["By creating an account you agree to our"," ",e.jsx(t,{to:"/terms",className:"text-indigo-600 hover:underline",children:"Terms"})," ","and"," ",e.jsx(t,{to:"/privacy",className:"text-indigo-600 hover:underline",children:"Privacy Policy"}),"."]}),e.jsx("div",{"aria-live":"polite",className:"sr-only"})]})})]})})};export{N as default};

import{j as e}from"./ui-vendor-D_YnDhxq.js";import{a as t}from"./react-vendor-B1YRfcvv.js";import{aE as s,aF as r}from"./index-BpOdPcLd.js";import"./redux-vendor-Cc4mDNFq.js";import"./utils-vendor-B4hhIH4d.js";const a=()=>{const[a,o]=t.useState([]),[l,i]=t.useState(!0);t.useEffect(()=>{(async()=>{try{const e=await fetch("/api/orders/user",{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}}),t=await e.json();e.ok&&t.orders&&o(t.orders)}catch(e){}finally{i(!1)}})()},[]);const d=a.filter(e=>e.reportFile);return l?e.jsx("div",{className:"text-center py-10 text-gray-500 text-lg",children:"Loading reports..."}):e.jsxs("div",{className:"bg-white shadow-md rounded-xl p-6 max-w-5xl mx-auto",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 border-b pb-2 flex items-center gap-2",children:[e.jsx(s,{className:"text-primary"})," My Reports"]}),0===d.length?e.jsx("p",{className:"text-gray-500 text-center",children:"No reports available yet."}):e.jsx("div",{className:"space-y-4",children:d.map(t=>e.jsxs("div",{className:"border rounded-lg p-4 flex flex-col md:flex-row md:justify-between md:items-center gap-4 shadow-sm",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-800",children:["Report for Order #",t._id.slice(-6)]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Date: ",new Date(t.createdAt).toLocaleDateString()]}),e.jsxs("p",{className:"text-sm text-gray-500 capitalize",children:["Status: ",e.jsx("span",{className:"font-medium",children:t.status})]})]}),e.jsxs("a",{href:t.reportFile,download:!0,className:"bg-primary text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-primary-dark transition",children:[e.jsx(r,{})," Download Report"]})]},t._id))})]})};export{a as default};

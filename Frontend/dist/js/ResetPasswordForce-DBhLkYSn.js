import{j as e,c as s}from"./ui-vendor-D_YnDhxq.js";import{f as a,u as r,a as t}from"./react-vendor-B1YRfcvv.js";import{F as o,a as l,N as n}from"./index-BpOdPcLd.js";import"./redux-vendor-Cc4mDNFq.js";import"./utils-vendor-B4hhIH4d.js";const d=()=>{const{id:d}=a(),i=r(),[c,m]=t.useState({password:"",confirmPassword:""}),[u,p]=t.useState(!1),[x,w]=t.useState(!1),[h,j]=t.useState(!1),b=e=>{const{name:s,value:a}=e.target;m(e=>({...e,[s]:a}))};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-bg-primary p-6",children:e.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded shadow-md",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-text-primary",children:"Set New Password"}),e.jsxs("form",{onSubmit:async e=>{var a,r;e.preventDefault(),j(!0);try{const e=await n(`/api/auth/reset-password-force/${d}`,c);s.success(e.data.message||"Password reset successful"),i("/login")}catch(t){s.error((null==(r=null==(a=null==t?void 0:t.response)?void 0:a.data)?void 0:r.message)||"Something went wrong")}finally{j(!1)}},className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:u?"text":"password",name:"password",value:c.password,onChange:b,className:"w-full px-4 py-2 border rounded",placeholder:"Enter new password",required:!0}),e.jsx("button",{type:"button",onClick:()=>p(!u),className:"absolute right-3 top-3 text-gray-600",children:u?e.jsx(o,{}):e.jsx(l,{})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:x?"text":"password",name:"confirmPassword",value:c.confirmPassword,onChange:b,className:"w-full px-4 py-2 border rounded",placeholder:"Confirm new password",required:!0}),e.jsx("button",{type:"button",onClick:()=>w(!x),className:"absolute right-3 top-3 text-gray-600",children:x?e.jsx(o,{}):e.jsx(l,{})})]})]}),e.jsx("button",{type:"submit",disabled:h,className:"w-full bg-primary text-white py-2 rounded hover:bg-primary-dark",children:h?"Resetting...":"Set New Password"})]})]})})};export{d as default};

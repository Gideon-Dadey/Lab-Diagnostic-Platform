const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/UserSidebar-BCoAO69d.js","js/ui-vendor-D_YnDhxq.js","js/react-vendor-B1YRfcvv.js","js/index-Cc9Rvcfl.js","js/redux-vendor-Cc4mDNFq.js","js/index-BpOdPcLd.js","js/utils-vendor-B4hhIH4d.js","assets/index-Dvd7_C2B.css"])))=>i.map(i=>d[i]);
import{av as e,a8 as s,w as t,aw as a,Q as r,ab as l,ax as n,ay as o,L as i,az as c,aA as d,aB as m,aC as x}from"./index-BpOdPcLd.js";import{j as u,V as h}from"./ui-vendor-D_YnDhxq.js";import{a as b,u as g,L as p,O as f}from"./react-vendor-B1YRfcvv.js";import{u as j,e as y}from"./redux-vendor-Cc4mDNFq.js";import"./utils-vendor-B4hhIH4d.js";const v=["CBC","Diabetes","Lipid Profile","Heart Health","Thyroid","Women's Health","Senior Care","Child Health","Vitamin D","Kidney Function"],N=()=>{const[m,x]=b.useState(!1),[f,N]=b.useState(!1),[w,k]=b.useState(!1),[C,L]=b.useState(""),[S,E]=b.useState([]),[z,R]=b.useState(!1),_=b.useRef(null),D=b.useRef(null),H=b.useRef(null),I=j(),A=g(),{user:O}=y(e=>e.auth),P=y(e=>e.cart.totalQuantity),T=async()=>{try{await I(d()).unwrap(),h.success("Logged out successfully"),A("/login")}catch(e){h.error("Logout failed")}};b.useEffect(()=>{const e=localStorage.getItem("searchHistory");e&&E(JSON.parse(e))},[]);const U=e=>{e.preventDefault(),C.trim()&&(E(e=>{const s=[C.trim(),...e.filter(e=>e!==C.trim())].slice(0,8);return localStorage.setItem("searchHistory",JSON.stringify(s)),s}),A(`/search?q=${encodeURIComponent(C.trim())}`))},V=b.useCallback(e=>{L(e),E(s=>{const t=[e,...s.filter(s=>s!==e)].slice(0,8);return localStorage.setItem("searchHistory",JSON.stringify(t)),t}),A(`/search?q=${encodeURIComponent(e)}`)},[A]);b.useEffect(()=>{const e=e=>{_.current&&!_.current.contains(e.target)&&N(!1),D.current&&!D.current.contains(e.target)&&x(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),b.useEffect(()=>{if(!z&&!C)return;const e=e=>{H.current&&!H.current.contains(e.target)&&R(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[z,C]);const F=()=>{k(!1)},J=v.filter(e=>e.toLowerCase().includes(C.toLowerCase())),M=z||C.length>0;return u.jsx("header",{className:"sticky top-0 z-50 bg-white/90 backdrop-blur-md border-b border-border-dark shadow-sm",children:u.jsxs("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"hidden md:flex items-center justify-between h-20",children:[u.jsx(p,{to:"/",className:"flex items-center gap-2",children:u.jsx("img",{src:e,alt:"Lab Logo",className:"h-11 w-auto rounded-full object-contain"})}),u.jsxs("div",{className:"flex items-center space-x-6 flex-1 justify-center text-sm font-medium",children:[u.jsxs("div",{className:"relative",ref:_,children:[u.jsxs("button",{onClick:()=>N(!f),className:"flex items-center gap-1 text-gray-700 hover:text-primary",children:["Explore",u.jsx(s,{className:"transition-transform duration-300 "+(f?"rotate-180":"")})]}),f&&u.jsxs("div",{className:"absolute top-full mt-2 w-52 bg-white border shadow rounded z-40",children:[u.jsx(p,{to:"/labs",className:"block px-4 py-2 hover:bg-gray-100",onClick:()=>N(!1),children:"All Labs"}),u.jsx(p,{to:"/all-tests-packages",className:"block px-4 py-2 hover:bg-gray-100",onClick:()=>N(!1),children:"Tests & Packages"})]})]}),u.jsx(p,{to:"/ai-recommendations-test",className:"text-gray-700 hover:text-primary",children:"Recommendation"}),u.jsxs("form",{onSubmit:U,className:"relative",children:[u.jsx("input",{type:"text",placeholder:"Search any test or lab...",className:"w-[400px] px-4 py-2 full text-sm border border-gray-300 focus:ring-primary focus:outline-none",value:C,onChange:e=>L(e.target.value),onFocus:()=>R(!0)}),u.jsx("button",{type:"submit",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-primary",children:u.jsx(t,{})}),M&&(S.length>0||J.length>0)&&u.jsxs("div",{ref:H,className:"absolute left-0 w-[400px] max-w-[90vw] bg-white shadow-2xl rounded-b-xl mt-1 z-50 p-3 border border-t-0 border-gray-200",style:{minWidth:300},children:[S.length>0&&u.jsx("div",{className:"mb-2 flex flex-wrap gap-2",children:S.map((e,s)=>u.jsx("button",{className:"px-3 py-1 bg-gray-100 hover:bg-primary/10 text-primary rounded-lg border border-primary/20 text-xs",onMouseDown:()=>V(e),type:"button",children:e},e+s))}),u.jsx("div",{className:"flex flex-wrap gap-2",children:J.map((e,s)=>u.jsx("button",{className:"px-3 py-1 bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-lg border border-blue-200 text-xs",onMouseDown:()=>V(e),type:"button",children:e},e+s))})]})]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(p,{to:"/user/cart",className:"relative text-gray-700 hover:text-primary",children:[u.jsx(a,{size:20}),P>0&&u.jsx("span",{className:"absolute -top-2 -right-2 text-xs px-1.5 py-0.5 bg-red-600 text-white rounded-full animate-bounce",children:P})]}),O?u.jsxs("div",{className:"relative",ref:D,children:[u.jsxs("button",{onClick:e=>{e.stopPropagation(),x(!m)},className:"flex items-center gap-2 text-gray-700 hover:text-primary",children:[O.image?u.jsx("img",{src:O.image,alt:"User",className:"w-8 h-8 rounded-full object-cover border border-gray-300"}):u.jsx(l,{className:"text-2xl"}),u.jsx("span",{className:"text-sm",children:O.firstName})]}),m&&u.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white border shadow-md rounded-md z-50",children:[u.jsxs(p,{to:"/user",onClick:()=>x(!1),className:"flex items-center px-4 py-2 text-sm hover:bg-gray-100",children:[u.jsx(n,{className:"mr-2"})," Dashboard"]}),u.jsxs("button",{onClick:T,className:"flex items-center w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100",children:[u.jsx(o,{className:"mr-2"})," Logout"]})]})]}):u.jsxs(p,{to:"/login",className:"bg-primary text-white px-4 py-2 rounded-full text-sm font-semibold flex items-center gap-2",children:[u.jsx(r,{})," Login / Register"]})]})]}),u.jsxs("div",{className:"md:hidden flex items-center justify-between h-16",children:[u.jsxs(p,{to:"/user/cart",className:"relative text-gray-700 hover:text-primary",children:[u.jsx(a,{size:20}),P>0&&u.jsx("span",{className:"absolute -top-2 -right-2 text-xs px-1 py-0.5 bg-red-600 text-white rounded-full animate-bounce",children:P})]}),u.jsxs("form",{onSubmit:U,className:"relative flex-1 mx-4",children:[u.jsx("input",{type:"text",placeholder:"Search...",className:"w-full px-3 py-1.5 rounded-full text-sm border border-gray-300 focus:ring-primary focus:outline-none",value:C,onChange:e=>L(e.target.value)}),u.jsx("button",{type:"submit",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-primary",children:u.jsx(t,{})})]}),u.jsx("button",{onClick:()=>k(!w),className:"text-gray-700 hover:text-primary","aria-label":"Toggle menu",children:w?u.jsx(i,{size:24}):u.jsx(c,{size:24})})]}),w&&u.jsxs("div",{className:"md:hidden bg-white border-t px-4 pt-4 pb-6 space-y-3",children:[u.jsx(p,{to:"/labs",onClick:F,className:"block px-3 py-2 rounded hover:bg-gray-100",children:"Labs"}),u.jsx(p,{to:"/all-tests-packages",onClick:F,className:"block px-3 py-2 rounded hover:bg-gray-100",children:"Tests & Packages"}),u.jsx(p,{to:"/ai-recommendations-test",onClick:F,className:"block px-3 py-2 rounded hover:bg-gray-100",children:"AI Recommendation"}),O?u.jsxs(u.Fragment,{children:[u.jsx(p,{to:"/user",onClick:F,className:"block px-3 py-2 rounded hover:bg-gray-100",children:"Dashboard"}),u.jsxs("button",{onClick:()=>{T(),k(!1)},className:"flex items-center w-full text-left px-3 py-2 text-red-600 hover:bg-gray-100 rounded",children:[u.jsx(o,{className:"mr-2"})," Logout"]})]}):u.jsx(p,{to:"/login",onClick:F,className:"block text-center bg-primary text-white py-2 rounded font-semibold",children:"Login / Register"})]})]})})},w=b.lazy(()=>x(()=>import("./UserSidebar-BCoAO69d.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),k=b.lazy(()=>x(()=>import("./index-BpOdPcLd.js").then(e=>e.aV),__vite__mapDeps([5,1,2,4,6,7])));function C(){const[e,s]=b.useState(!1),t=b.useRef(null),a=b.useRef(null);return b.useEffect(()=>{const t=t=>{"Escape"===t.key&&e&&s(!1)};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[e]),b.useEffect(()=>{e&&a.current&&a.current.focus()},[e]),u.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900",children:[u.jsx("a",{href:"#main",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 bg-white px-3 py-2 rounded shadow",children:"Skip to content"}),u.jsxs("header",{className:"sticky top-0 z-40 bg-white/90 backdrop-blur-sm border-b border-gray-100",children:[u.jsx(m,{}),u.jsx(N,{})]}),u.jsx("div",{className:"pt-6 pb-12",children:u.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden grid grid-cols-1 md:grid-cols-[260px_1fr] gap-6",children:[u.jsx("aside",{className:"hidden md:block border-r border-gray-100 p-4","aria-label":"User menu",children:u.jsx(b.Suspense,{fallback:u.jsx("div",{className:"h-64 animate-pulse bg-gray-100 rounded"}),children:u.jsx(w,{})})}),u.jsxs("div",{className:"flex items-center justify-between md:hidden border-b border-gray-100 px-4 py-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{"aria-label":"Open menu","aria-expanded":e,"aria-controls":"mobile-drawer",onClick:()=>s(!0),className:"inline-flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100 text-gray-700 hover:bg-gray-200",children:u.jsx(c,{})}),u.jsx("h1",{className:"text-lg font-medium",children:"My Account"})]}),u.jsx("nav",{"aria-label":"Quick links",children:u.jsx(p,{to:"/",className:"text-sm text-primary hover:underline",children:"Home"})})]}),e&&u.jsxs("div",{id:"mobile-drawer",role:"dialog","aria-modal":"true",ref:t,className:"md:hidden fixed inset-0 z-50 flex",children:[u.jsx("button",{"aria-hidden":!0,onClick:()=>s(!1),className:"absolute inset-0 bg-black/40"}),u.jsxs("div",{className:"relative z-50 w-80 max-w-full bg-white h-full shadow-xl p-4 overflow-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Account menu"}),u.jsx("button",{onClick:()=>s(!1),"aria-label":"Close menu",className:"inline-flex items-center justify-center w-9 h-9 rounded-md bg-gray-100 hover:bg-gray-200",children:u.jsx(i,{})})]}),u.jsx(b.Suspense,{fallback:u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"h-4 bg-gray-100 rounded w-2/3"}),u.jsx("div",{className:"h-4 bg-gray-100 rounded w-1/2"})]}),children:u.jsx(w,{firstFocusableRef:a,onNavigate:()=>s(!1)})})]})]}),u.jsxs("main",{id:"main",className:"p-6",children:[u.jsx("div",{className:"min-h-[60vh]",children:u.jsx(f,{})}),u.jsx("footer",{className:"mt-8",children:u.jsx(b.Suspense,{fallback:u.jsx("div",{className:"text-center text-sm text-gray-400",children:"Loading footerâ€¦"}),children:u.jsx(k,{})})})]})]})})})]})}export{C as default};

var e,n="acacia",r="https://js.stripe.com",t="".concat(r,"/").concat(n,"/stripe.js"),o=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,i=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,u=function(e){return o.test(e)||i.test(e)},c=function(e){var n=document.createElement("script");n.src="".concat(t).concat("");var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n},l=null,a=null,s=null,d=function(e){return null!==l?l:(l=new Promise(function(n,t){if("undefined"!=typeof window&&"undefined"!=typeof document)if(window.Stripe)n(window.Stripe);else try{var o=function(){for(var e=document.querySelectorAll('script[src^="'.concat(r,'"]')),n=0;n<e.length;n++){var t=e[n];if(u(t.src))return t}return null}();if(o&&e);else if(o){if(o&&null!==s&&null!==a){var i;o.removeEventListener("load",s),o.removeEventListener("error",a),null===(i=o.parentNode)||void 0===i||i.removeChild(o),o=c()}}else o=c();s=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}}(n,t),a=function(e){return function(n){e(new Error("Failed to load Stripe.js",{cause:n}))}}(t),o.addEventListener("load",s),o.addEventListener("error",a)}catch(l){return void t(l)}else n(null)})).catch(function(e){return l=null,Promise.reject(e)})},f=function(){return e||(e=d(null).catch(function(n){return e=null,Promise.reject(n)}))};Promise.resolve().then(function(){return f()}).catch(function(e){});var p=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];0;var t=Date.now();return f().then(function(e){return function(e,n,r){if(null===e)return null;n[0].match(/^pk_test/),e.version;var t=e.apply(void 0,n);return function(e,n){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"6.0.0",startTime:n})}(t,r),t}(e,n,t)})};export{p as l};

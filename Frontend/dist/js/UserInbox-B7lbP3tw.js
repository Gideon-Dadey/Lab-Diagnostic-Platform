import{j as e}from"./ui-vendor-D_YnDhxq.js";import{a as s}from"./react-vendor-B1YRfcvv.js";const t=()=>{const[t,a]=s.useState([]),l=localStorage.getItem("userId");return s.useEffect(()=>{(async()=>{try{const e=await fetch(`/api/query/user/${l}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}}),s=await e.json();s.success&&a(s.queries)}catch(e){}})()},[l]),e.jsxs("div",{className:"bg-white shadow-md rounded-xl p-6 max-w-5xl mx-auto",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Your Submitted Queries"}),0===t.length?e.jsx("p",{children:"No queries submitted yet."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full table-auto border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-primary text-white",children:[e.jsx("th",{className:"px-4 py-2 text-left",children:"Subject"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Message"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Response"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Status"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Sent To"})]})}),e.jsx("tbody",{children:t.map(s=>e.jsxs("tr",{className:"border-b hover:bg-gray-100",children:[e.jsx("td",{className:"px-4 py-2",children:s.subject}),e.jsx("td",{className:"px-4 py-2",children:s.message}),e.jsx("td",{className:"px-4 py-2",children:s.response?s.response:e.jsx("span",{className:"italic text-gray-400",children:"No response yet"})}),e.jsx("td",{className:"px-4 py-2 capitalize",children:e.jsx("span",{className:`text-xs px-2 py-1 rounded-full\n                      ${"unviewed"===s.status&&"bg-yellow-100 text-yellow-700"}\n                      ${"viewed"===s.status&&"bg-blue-100 text-blue-700"}\n                      ${"responded"===s.status&&"bg-green-100 text-green-700"}\n                    `,children:s.status})}),e.jsx("td",{className:"px-4 py-2",children:s.responder||"Unknown"})]},s._id))})]})})]})};export{t as default};

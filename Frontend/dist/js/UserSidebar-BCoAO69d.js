import{j as e}from"./ui-vendor-D_YnDhxq.js";import{a as t,l as s}from"./react-vendor-B1YRfcvv.js";import{P as l}from"./index-Cc9Rvcfl.js";import{e as a}from"./redux-vendor-Cc4mDNFq.js";import{d as r,ar as o,aw as n,aU as i,R as c,aE as d,Z as u,a9 as m}from"./index-BpOdPcLd.js";import"./utils-vendor-B4hhIH4d.js";const f="flex items-center gap-3 w-full text-sm font-medium px-3 py-2 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-teal-400";function x({value:t}){return t?e.jsx("span",{className:"ml-auto inline-flex items-center justify-center px-2 py-0.5 text-xs font-semibold rounded-full bg-red-100 text-red-700",children:t}):null}function p({compact:l=!1,onNavigate:p,onCompactToggle:h,user:j,counts:v={},className:g="",closeOnNavigate:b=!1}){var N;const y=null==(N=a)?void 0:N(e=>{var t;return null==(t=null==e?void 0:e.auth)?void 0:t.user}),w=j||y||null,k=t.useRef([]),$=t.useMemo(()=>[{to:"profile",label:"Profile",Icon:r,key:"profile"},{to:"edit",label:"Update Profile",Icon:o,key:"edit"},{to:"cart",label:"My Cart",Icon:n,key:"cart",badge:v.cart},{to:"orders",label:"My Orders",Icon:i,key:"orders",badge:v.orders},{to:"messages",label:"Inbox",Icon:c,key:"messages",badge:v.messages},{to:"reports",label:"My Reports",Icon:d,key:"reports",badge:v.reports}],[v]),C=t.useCallback((e,t)=>{"function"==typeof p&&p(t),b&&"function"==typeof p&&p(t)},[p,b]);return e.jsxs("nav",{"aria-label":"User sidebar",className:`flex flex-col h-full min-h-[300px] ${g}`,children:[e.jsxs("div",{className:`rounded-xl bg-gradient-to-b ${l?"from-white/0 to-white/0":"from-teal-50 to-white"} p-4 flex items-center gap-3 ${l?"justify-center":""}`,children:[e.jsxs("div",{className:"flex items-center gap-3 "+(l?"flex-col":"flex-row"),children:[e.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden flex-shrink-0 "+(l?"mx-auto":""),title:w?`${w.firstName||""} ${w.lastName||""}`:"Your profile",children:(null==w?void 0:w.image)?e.jsx("img",{src:w.image,alt:"avatar",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-teal-200 flex items-center justify-center text-teal-700 font-bold",children:(((null==w?void 0:w.firstName)||"U").charAt(0)||"U").toUpperCase()})}),!l&&e.jsxs("div",{className:"flex flex-col text-sm overflow-hidden",children:[e.jsx("div",{className:"font-semibold text-slate-900 truncate",children:w?`${w.firstName||""} ${w.lastName||""}`.trim():"Your account"}),e.jsx("div",{className:"text-xs text-slate-500 truncate",children:(null==w?void 0:w.email)||"Member"})]})]}),e.jsx("div",{className:"ml-auto hidden md:flex items-center",children:e.jsx("button",{onClick:()=>"function"==typeof h?h(!l):null,className:"inline-flex items-center justify-center p-2 rounded-md bg-white border border-gray-100 text-slate-700 hover:bg-gray-50","aria-pressed":l,title:l?"Expand sidebar":"Compact sidebar",children:l?e.jsx(u,{}):e.jsx(m,{})})})]}),e.jsx("ul",{role:"menu",className:`mt-4 space-y-1 px-1 ${l?"items-center":""} overflow-auto`,children:$.map((t,a)=>{const r=t.Icon;return e.jsx("li",{role:"none",children:e.jsxs(s,{ref:e=>k.current[a]=e,to:t.to,onClick:e=>C(e,t.to),onKeyDown:e=>((e,t,s)=>{var l,a;if("ArrowDown"===e.key){e.preventDefault();const s=(t+1)%k.current.length;null==(l=k.current[s])||l.focus()}else if("ArrowUp"===e.key){e.preventDefault();const s=(t-1+k.current.length)%k.current.length;null==(a=k.current[s])||a.focus()}else"Enter"===e.key&&"function"==typeof p&&p(s)})(e,a,t.to),role:"menuitem",end:!0,className:({isActive:e})=>`${f} ${e?"bg-teal-500 text-white":"text-slate-700 hover:bg-slate-100"} ${l?"justify-center px-2 py-2.5":""}`,title:l?t.label:void 0,children:[e.jsx(r,{className:"w-4 h-4 "+(l?"":"text-teal-600"),"aria-hidden":!0}),!l&&e.jsx("span",{className:"truncate",children:t.label}),e.jsx("div",{className:"ml-auto",children:t.badge?e.jsx(x,{value:t.badge}):null})]})},t.to)})}),e.jsx("div",{className:"mt-auto p-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(s,{to:"/support",className:`flex-1 ${f} text-slate-700 hover:bg-slate-100 justify-center md:justify-start`,onClick:()=>null==p?void 0:p("support"),children:[e.jsx(c,{className:"w-4 h-4 text-slate-600"}),!l&&e.jsx("span",{children:"Support"})]}),e.jsxs(s,{to:"/settings",className:`flex-1 ${f} text-slate-700 hover:bg-slate-100 justify-center md:justify-start`,onClick:()=>null==p?void 0:p("settings"),children:[e.jsx(o,{className:"w-4 h-4 text-slate-600"}),!l&&e.jsx("span",{children:"Settings"})]})]})})]})}p.propTypes={compact:l.bool,onNavigate:l.func,onCompactToggle:l.func,user:l.object,counts:l.object,className:l.string,closeOnNavigate:l.bool};export{p as default};
